hydra:
  run:
    dir: ${models_dir}/runs/${now:%Y-%m-%d}/${now:%H-%M-%S}

models_dir: /home/nadav2/dev/repos/CLIP2Shape/models

seed: 42

tensorboard_logger:
  name: super_data_flame_epxression # IMPORTANT
  save_dir: /home/nadav2/dev/data/CLIP2Shape/runs
  log_graph: True

train_size: 0.8

callbacks:
  model_checkpoint:
    _target_: pytorch_lightning.callbacks.ModelCheckpoint
    monitor: "val_loss"
    mode: "min"
    save_top_k: 1 # savest models (determined by above metric)
    # save_last: True # addite k bionaly always save model from last epoch
    verbose: False
    dirpath: ${ models_dir } # where to save models
    filename: "epoch_{epoch:03d}"
    auto_insert_metric_name: False

dataloader:
  batch_size: 5000
  num_workers: 1
  shuffle: True
  drop_last: False

trainer:
  gpus: 1
  max_epochs: 20
  check_val_every_n_epoch: 5
  log_every_n_steps: 3

dataset:
  data_dir: /home/nadav2/dev/data/CLIP2Shape/images/flame_expression_super_data
  optimize_features:
    - expression_params
  out_features: ${model_conf.out_features}

model_conf:
  num_stats: 6
  hidden_size: 1000
  out_features: 50